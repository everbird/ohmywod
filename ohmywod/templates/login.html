{% extends "base.html" %}

{% block title %}战报 - Login{% endblock %}

{% block content %}
<section class="w-100 p-4 d-flex justify-content-center pb-4">
  <div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul class=flashes>
      {% for message in messages %}
      <li>{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
  </div>
{% if current_user and not current_user.is_anonymous %}
<p>You're logged in already!</p>
{% else %}
<form method="POST" style="width: 22em;">
  {{ form.hidden_tag() }}
   <div class="text-center mb-6">
      <h2>Log in</h2>
   </div>
   <br>
   <br>
  <div class="form-outline mb-4">
    {{ form.username(placeholder="Username", class="form-control") }}
    {% for error in form.username.errors %}
        <span style="color: red;">* {{ error }}</span>
    {% endfor %}
  </div>

  <div class="form-outline mb-4">
    {{ form.password(placeholder="Password", class="form-control") }}
    {% for error in form.password.errors %}
    <span style="color: red;">* {{ error }}</span>
    {% endfor %}
  </div>

  <br>
  <div class="d-grid gap-2">
  <!-- Submit button -->
  {{ form.submit(class="btn btn-primary mb-4") }}
  </div>

   <br>
   <br>
  <!-- Register buttons -->
  <div class="text-center">
    <p>Not a member? <a href="/register">Register</a></p>
  </div>
</form>
{% endif %}
</section>
{% endblock %}
